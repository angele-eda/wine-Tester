<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë©‹ì¬ì´ ì•„ì¹¨ ë£¨í‹´ ë¦¬ë§ˆì¸ë”</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    :root {
      color-scheme: light dark;
      --bg-gradient: linear-gradient(135deg, #f0f4ff, #ffeef5);
      --card-bg: rgba(255, 255, 255, 0.92);
      --text-main: #222;
      --accent: #ff6b81;
      --accent-soft: rgba(255, 107, 129, 0.15);
      --shadow-soft: 0 18px 35px rgba(15, 23, 42, 0.18);
    }

    * {
      box-sizing: border-box;
    }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 16px;
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", system-ui,
        -system-ui, sans-serif;
      background: var(--bg-gradient);
      color: var(--text-main);
    }

    .card {
      width: 100%;
      max-width: 480px;
      background: var(--card-bg);
      border-radius: 18px;
      padding: 22px 18px 20px;
      box-shadow: var(--shadow-soft);
      backdrop-filter: blur(10px);
    }

    header {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 10px;
    }

    .emoji {
      font-size: clamp(1.8rem, 8vw, 2.1rem);
    }

    h1 {
      margin: 0;
      font-size: clamp(1.4rem, 6vw, 1.7rem);
      line-height: 1.3;
    }

    .subtitle {
      margin: 6px 0 14px;
      font-size: 0.92rem;
      line-height: 1.5;
      color: #555;
    }

    .time-tag {
      display: inline-flex;
      align-items: center;
      gap: 6px;
      font-size: 0.8rem;
      padding: 4px 9px;
      border-radius: 999px;
      background: var(--accent-soft);
      color: #d7264e;
      margin-bottom: 6px;
    }

    .time-tag span {
      font-weight: 600;
    }

    /* ğŸ”¥ íšŒì „ ëª¨ë˜ì‹œê³„ */
    .hourglass {
      display: inline-block;
      animation: spin 1s linear infinite;
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }

    button#playBtn {
      margin-top: 4px;
      width: 100%;
      padding: 12px 16px;
      border-radius: 999px;
      border: none;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      background: var(--accent);
      color: #fff;
      transition: transform 0.15s ease, box-shadow 0.15s ease, opacity 0.15s ease;
      box-shadow: 0 10px 24px rgba(255, 107, 129, 0.45);
    }

    button#playBtn:hover:not(:disabled) {
      transform: translateY(-1px);
      box-shadow: 0 12px 28px rgba(255, 107, 129, 0.6);
    }

    button#playBtn:active:not(:disabled) {
      transform: translateY(0);
      box-shadow: 0 6px 18px rgba(255, 107, 129, 0.5);
    }

    button#playBtn:disabled {
      opacity: 0.7;
      cursor: default;
      box-shadow: none;
    }

    .timers-wrap {
      margin-top: 14px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(248, 250, 252, 0.9);
      border: 1px solid rgba(226, 232, 240, 0.9);
    }

    .timers-title {
      font-size: 0.88rem;
      font-weight: 600;
      margin-bottom: 6px;
      color: #444;
    }

    .timer-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.85rem;
      padding: 3px 0;
    }

    .timer-step {
      font-weight: 500;
    }

    .timer-status {
      font-variant-numeric: tabular-nums;
      margin-left: 8px;
    }

    .list-wrap {
      margin-top: 12px;
      padding: 10px 12px;
      border-radius: 14px;
      background: rgba(148, 163, 184, 0.08);
      max-height: min(360px, 55vh);
      overflow-y: auto;
    }

    .list-title {
      font-size: 0.9rem;
      font-weight: 600;
      margin-bottom: 6px;
      color: #444;
    }

    ol#stepList {
      margin: 0;
      padding-left: 20px;
      font-size: 0.9rem;
      line-height: 1.6;
    }

    ol#stepList li {
      margin-bottom: 4px;
    }

    .footnote {
      margin-top: 8px;
      font-size: 0.76rem;
      color: #777;
    }
  </style>
</head>
<body>
  <main class="card">
    <header>
      <div class="emoji">â°</div>
      <div>
        <div class="time-tag">
          <span>06:20</span> ê¸°ìƒ ë£¨í‹´
        </div>
        <h1>ë©‹ì¬ì´ ì•„ì¹¨ ë£¨í‹´ ë¦¬ë§ˆì¸ë”</h1>
      </div>
    </header>

    <p class="subtitle">
      06:20ì— ê¸°ìƒí•´ì„œ ì´ í˜ì´ì§€ë¥¼ ì—´ê³ <br />
      ì•„ë˜ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´, ë‹¨ê³„ë³„ë¡œ ìŒì„± ì•ˆë‚´ê°€ ë‚˜ì™€ìš”.
    </p>

    <button id="playBtn" type="button">ì•„ì¹¨ ë£¨í‹´ ì¬ìƒ â–¶</button>

    <section class="timers-wrap" aria-labelledby="timersTitle">
      <div id="timersTitle" class="timers-title">ê° ë£¨í‹´ê¹Œì§€ ë‚¨ì€ ì‹œê°„</div>
      <div id="timers"></div>
    </section>

    <section class="list-wrap" aria-labelledby="listTitle">
      <div id="listTitle" class="list-title">ì§„í–‰ ìˆœì„œ</div>
      <ol id="stepList">
        <li>ê¸°ìƒ + ì†Œê¸ˆë¬¼ 150~200ml ë§ˆì‹œê¸°</li>
        <li>ì „ë ¥ ëŸ°ë‹ 5ë¶„</li>
        <li>ëŸ°ë‹ í›„ 10ë¶„ íœ´ì‹</li>
        <li>DGL 1ì • ë…¹ì—¬ ë¨¹ê¸°</li>
        <li>ìœ ë‹¹ë¶„í•´ì œ 1ì •</li>
        <li>ì¹¼ë¡œë¦¬ ëª¬ìŠ¤í„° 1/2ë§Œ ë§ˆì‹œê¸°</li>
        <li>ì¹¼ë¡œë¦¬ ëª¬ìŠ¤í„° ë‚˜ë¨¸ì§€ 1/2 + ë¥˜ì‹  1ì •</li>
      </ol>
      <p class="footnote">
        ë²„íŠ¼ì„ ë‹¤ì‹œ ëˆ„ë¥´ë©´ ì²˜ìŒë¶€í„° ë‹¤ì‹œ ì§„í–‰ë¼ìš”.
      </p>
    </section>
  </main>

  <script>
    const steps = [
      "ì§€ê¸ˆì€ ê¸°ìƒ í›„, ì†Œê¸ˆë¬¼ 150ì—ì„œ 200ë°€ë¦¬ë¦¬í„°ë¥¼ ë§ˆì‹¤ ì‹œê°„ì…ë‹ˆë‹¤.",
      "ì´ì œ ì „ë ¥ ëŸ°ë‹ì„ 5ë¶„ê°„ í•´ ì£¼ì„¸ìš”.",
      "ëŸ°ë‹ì´ ëë‚¬ìŠµë‹ˆë‹¤. 10ë¶„ ë™ì•ˆ ê°€ë³ê²Œ ì‰¬ì–´ ì£¼ì„¸ìš”.",
      "ì´ì œ ë””ì§€ì—˜, ë””ì§€ì—˜ 1ì •ì„ ì…ì—ì„œ ì²œì²œíˆ ë…¹ì—¬ ë“œì„¸ìš”.",
      "ì´ì œ ìœ ë‹¹ ë¶„í•´ì œë¥¼ 1ì • ë“œì„¸ìš”.",
      "ì´ì œ ì¹¼ë¡œë¦¬ ëª¬ìŠ¤í„°ë¥¼ ì ˆë°˜ë§Œ ë§ˆì…” ì£¼ì„¸ìš”.",
      "ì´ì œ ì¹¼ë¡œë¦¬ ëª¬ìŠ¤í„° ë‚˜ë¨¸ì§€ ì ˆë°˜ì„ ë§ˆì‹œê³ , ë¥˜ì‹  1ì •ì„ í•¨ê»˜ ë“œì„¸ìš”."
    ];

    const delaysMinutes = [0, 5, 10, 20, 25, 30, 35];

    const timersDiv = document.getElementById("timers");
    const playBtn = document.getElementById("playBtn");

    let tickerId = null;

    function speak(text) {
      if ("speechSynthesis" in window) {
        const utter = new SpeechSynthesisUtterance(text);
        utter.lang = "ko-KR";
        window.speechSynthesis.speak(utter);
      } else {
        alert(text);
      }
    }

    function startTimers(startTime) {
      if (tickerId) clearInterval(tickerId);

      function render() {
        const now = Date.now();
        let html = "";

        delaysMinutes.forEach((min, idx) => {
          const offsetMs = min * 60 * 1000;
          const diff = offsetMs - (now - startTime);

          let status;
          if (diff <= -60 * 1000) {
            status = "âœ… ì™„ë£Œ";
          } else if (diff <= 0) {
            status = `<span class="hourglass">â³</span> ì§„í–‰ ì¤‘`;
          } else {
            const sec = Math.floor(diff / 1000);
            const mm = Math.floor(sec / 60);
            const ss = String(sec % 60).padStart(2, "0");
            status = `${mm}ë¶„ ${ss}ì´ˆ ë‚¨ìŒ`;
          }

          html += `
            <div class="timer-row">
              <span class="timer-step">${idx + 1}ë‹¨ê³„</span>
              <span class="timer-status">${status}</span>
            </div>`;
        });

        timersDiv.innerHTML = html;
      }

      render();
      tickerId = setInterval(render, 1000);
    }

    playBtn.addEventListener("click", () => {
      if ("speechSynthesis" in window) window.speechSynthesis.cancel();
      if (tickerId) clearInterval(tickerId);

      playBtn.disabled = true;
      playBtn.innerHTML = `ë£¨í‹´ ì§„í–‰ ì¤‘â€¦ <span class="hourglass">â³</span>`;

      const startTime = Date.now();
      startTimers(startTime);

      delaysMinutes.forEach((min, index) => {
        setTimeout(() => speak(steps[index]), min * 60 * 1000);
      });

      setTimeout(() => {
        playBtn.disabled = false;
        playBtn.innerHTML = `ì•„ì¹¨ ë£¨í‹´ ë‹¤ì‹œ ì¬ìƒ â–¶`;
      }, 40 * 60 * 1000);
    });
  </script>
</body>
</html>